---
title: "Proof of concept or illusions? WOrld FOod STudies crop model for Israeli Chickpea"
author: "Omer Perach"
date: '2021-08-24'
slug: []
categories:
- Crop Model
- Spatial Analysis
tags:
- Agriculture
- Modeling
description: ''
topics: []
---

## What is WOFOST?

WOFOST is a simulation model for the quantitative analysis of the growth and production of annual field crops [Please read](https://www.wur.nl/en/show/A-gentle-introduction-to-WOFOST.htm).  WOFOST could basically help us to understand the dynamic of the plant biological features such as **Leaf area index**, **Biomass**, **Water use**, **Yield** etc. for a location given knowledge about soil, crop, weather and crop management. 

## Application of WOFOST

* Yield risk and inter- annual yield variability.
* Yield variability over soil types, or over a range of agro-hydrological conditions.
* Differences among cultivars.
* Relative importance of growth determining factors.
* Many more

## My plan

WOFOST is a huge and amazing project and I am on the very early stage of learning it. Nonetheless, I believe in learning from doing so I decided to try and take a new R package *Rwofost* and use it. This R package trying to implement the WOFOST model in the R environment. It is worth mentioning that their is a python shell that are more suitable to work with that model [Please read](https://pcse.readthedocs.io/en/stable/).

## What parameters the package functions need to recieve?

The mandatory variables for the functions are:

* crop - which crop I want to model. from a list.
* whether - weather data set with the following parameters:  

  + date-"Date" class variable in R.
  + srad-Solar radiation kJ m^-2 day^-1.
  + tmin-minimum temperature per day (degrees C).
  + tmax-maximum temperature per day (degrees C).
  + vapr-vapor pressure (kPa). 
  + wind-wind speed (m s^-1).
  + prec-precipitation (mm day^-1).

## First stage - single station

In the first stage I will only collect data for a single station. I decided to focus in a data from a station called *Newe Ya'ar*. The station located near a small village called *Ramat Yishai*. The reasons I am choosing to work on this station are:

* I am working on chickpea in my PhD
* The soil type in that reason is clay.
* The area is good representative of a place with annual field crops.
* I have a knowledge on chickpea grown at Gilat  from 2021 season.

## The data from the station

```{r}
df<-read.csv("weather_data.csv")
head(df)
```

## Data preperation

The only state variable which we don't have is vapor pressure (hPa). This can be achieved by using maximum and minimum temperature with relative maximum and minimum humidity [please see equation](http://www.fao.org/3/x0490e/x0490e07.htm). WOFOST unit for all variables:  
* TMAX (Celsius)
* TMIN (Celsius)
* VAP (Vapor Pressure) (hPa)
* WIND (Wind speed) (meter/second)
* RAIN (cm/day)
* IRRAD (Joule/m^2*day)

```{r}
df$e0min<-0.6108*exp((17.27*df$Tmin)/(df$Tmin+237.3))
df$e0max<-0.6108*exp((17.27*df$Tmax)/(df$Tmax+237.3))
df$VAP<-df$e0min*(df$)
```





  
  

